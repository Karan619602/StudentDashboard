(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,a){"use strict";a.r(t);var r=a(6),c=a(2),s=a(15),n=a.n(s),o=(a(80),a(28),a(23)),i=a(24),l=a(9),u=a(14),d=a.n(u),j=a(21),b="LOGIN_REQUEST",p="LOGIN_SUCCESS",m="LOGIN_FAIL",h="REGISTER_USER_REQUEST",O="REGISTER_USER_SUCCESS",f="REGISTER_USER_FAIL",x="LOAD_USER_REQUEST",v="LOAD_USER_SUCCESS",g="LOAD_USER_FAIL",y="LOGOUT_SUCCESS",E="LOGOUT_FAIL",S="ALL_COURSES_REQUEST",N="ALL_COURSES_SUCCESS",_="ALL_COURSES_FAIL",C="COURSE_DETAILS_REQUEST",w="COURSE_DETAILS_SUCCESS",I="COURSE_DETAILS_FAIL",U="UPDATE_PROFILE_REQUEST",A="UPDATE_PROFILE_SUCCESS",R="UPDATE_PROFILE_RESET",L="UPDATE_PROFILE_FAIL",P="PURCHASE_COURSE",T="CLEAR_ERRORS",F=a(22),D=a.n(F),k=function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:x}),e.next=4,D.a.get("/api/v1/user/me");case 4:a=e.sent,r=a.data,t({type:v,payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:g,payload:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},B=a(3),G=function(e){var t=e.history,a=Object(c.useState)({username:"",email:"",password:"",Bio:"",Interest:""}),s=Object(i.a)(a,2),n=s[0],u=s[1],b=n.username,p=n.email,m=n.password,x=n.Bio,v=n.Interest,g=Object(l.b)(),y=Object(l.c)((function(e){return e.auth})),E=y.isAuthenicated,S=y.error;Object(c.useEffect)((function(){E&&t.push("/Profile"),S&&console.log(S)}),[t,g,S,E]);var N=function(e){u(Object(r.a)(Object(r.a)({},n),{},Object(o.a)({},e.target.name,e.target.value)))};return Object(B.jsx)(c.Fragment,{children:Object(B.jsx)("div",{className:"row wrapper",children:Object(B.jsx)("div",{className:"col-10 col-lg-5",children:Object(B.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var t;e.preventDefault(),g((t=n,function(){var e=Object(j.a)(d.a.mark((function e(a){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:h}),e.next=4,D.a.post("api/v1/user/register",t);case 4:r=e.sent,c=r.data,a({type:O,payload:c.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:f,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),u({username:"",email:"",password:"",Bio:"",Interest:""})},children:[Object(B.jsx)("h1",{className:"mb-3",children:"Register"}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(B.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"username",value:b,onChange:N})]}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(B.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:p,onChange:N})]}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(B.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:m,onChange:N})]}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"password_field",children:"Bio"}),Object(B.jsx)("textarea",{cols:"30",type:"text",id:"password_field",className:"form-control",name:"Bio",value:x,onChange:N})]})," ",Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"password_field",children:"Interest"}),Object(B.jsx)("textarea",{cols:"30",type:"text",id:"password_field",className:"form-control",name:"Interest",value:v,onChange:N})]}),Object(B.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",children:"REGISTER"})]})})})})},M=a(13),Q=a(12),J=function(e){var t=e.history,a=Object(l.c)((function(e){return e.auth})),r=a.user,s=a.isAuthenicated;return Object(c.useEffect)((function(){s||t.push("/Signup")}),[s,t]),Object(B.jsxs)("div",{className:"col-12 col-md-5",children:[Object(B.jsx)("h1",{className:"head",children:" My Profile"}),Object(B.jsx)("h3",{children:"Full Name"}),Object(B.jsx)("h5",{children:r.username}),Object(B.jsx)("hr",{}),Object(B.jsx)("h3",{children:"Email Address"}),Object(B.jsx)("h5",{children:r.email}),Object(B.jsx)("hr",{}),Object(B.jsx)("h3",{children:"Your Bio"}),Object(B.jsx)("h5",{children:r.Bio}),Object(B.jsx)("hr",{}),Object(B.jsx)("h3",{children:"Interest"}),Object(B.jsx)("h5",{children:r.Interest})]})},Y=a(75),H=function(e){e.isAdmin;var t=e.component,a=Object(Y.a)(e,["isAdmin","component"]),s=Object(l.c)((function(e){return e.auth})),n=s.isAuthenticated,o=s.loading;return Object(B.jsx)(c.Fragment,{children:!1===o&&Object(B.jsx)(Q.b,Object(r.a)(Object(r.a)({},a),{},{render:function(e){return!1===n?Object(B.jsx)(Q.a,{to:"/login"}):Object(B.jsx)(t,Object(r.a)({},e))}}))})},W=a(20),q=function(e){var t=e.history,a=Object(c.useState)({}),s=Object(i.a)(a,2),n=s[0],u=s[1],b=Object(W.d)(),p=Object(l.b)(),m=Object(l.c)((function(e){return e.auth})).user,h=Object(l.c)((function(e){return e.update})).isUpdated;Object(c.useEffect)((function(){h&&(p(k()),t.push("/Profile"),b.success("Profile Updated Successfully")),p({type:R})}),[t,p,h,b]);var O=function(e){if(""===e.target.value){var t=e.target.name;console.log("val",t),u(Object(r.a)(Object(r.a)({},n),{},Object(o.a)({},e.target.name,m.val)))}u(Object(r.a)(Object(r.a)({},n),{},Object(o.a)({},e.target.name,e.target.value)))};return Object(B.jsx)(c.Fragment,{children:Object(B.jsx)("div",{className:"row wrapper",children:Object(B.jsx)("div",{className:"col-10 col-lg-5",children:Object(B.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var t,a;e.preventDefault(),p((t=m._id,a=n,function(){var e=Object(j.a)(d.a.mark((function e(r){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,r({type:U}),e.next=5,D.a.put("api/v1/user/update/".concat(t),{UserData:a});case 5:c=e.sent,s=c.data,r({type:A,payload:s.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({type:L,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(B.jsx)("h1",{className:"mb-3",children:"Update Profile"}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(B.jsx)("input",{type:"text",id:"name_field",className:"form-control",name:"username",placeholder:m.username,onChange:function(e){return O(e)}})]}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(B.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",placeholder:m.email,onChange:function(e){return O(e)}})]}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"password_field",children:"Bio"}),Object(B.jsx)("textarea",{cols:"30",type:"text",id:"password_field",className:"form-control",name:"Bio",placeholder:m.Bio,onChange:function(e){return O(e)}})]})," ",Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"password_field",children:"Interest"}),Object(B.jsx)("textarea",{cols:"30",type:"text",id:"password_field",className:"form-control",name:"Interest",placeholder:m.Interest,onChange:function(e){return O(e)}})]}),Object(B.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",children:"UPDATE"})]})})})})},z=function(e){var t=e.history,a=Object(c.useState)(""),r=Object(i.a)(a,2),s=r[0],n=r[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),h=u[0],O=u[1],f=Object(l.b)(),x=Object(l.c)((function(e){return e.auth})),v=x.isAuthenicated,g=x.error;Object(c.useEffect)((function(){v&&t.push("/Profile"),g&&console.log(g)}),[t,f,g,v]);return Object(B.jsx)(c.Fragment,{children:Object(B.jsx)("div",{className:"row wrapper",children:Object(B.jsx)("div",{className:"col-10 col-lg-5",children:Object(B.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),f(function(e,t){return function(){var a=Object(j.a)(d.a.mark((function a(r){var c,s,n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:b}),c={headers:{"Content-Type":"application/json"}},a.next=5,D.a.post("/api/v1/user/login",{email:e,password:t},c);case 5:s=a.sent,n=s.data,r({type:p,payload:n.user}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),r({type:m,payload:a.t0.response.data.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(s,h)),n(""),O("")},children:[Object(B.jsx)("h1",{className:"mb-3",children:"Login"}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(B.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(B.jsxs)("div",{className:"form-group",children:[Object(B.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(B.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(B.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",children:"Login"})]})})})})},K=a(37),V=function(){return Object(B.jsx)("div",{className:"loader",children:" "})},X=function(e){var t=e.match,a=e.history,r=Object(l.b)(),s=Object(l.c)((function(e){return e.allcourses})),n=s.Courses,o=s.loading,i=Object(l.c)((function(e){return e.auth})).isAuthenicated,u=t.params.id;Object(c.useEffect)((function(){i||a.push("/login"),r(function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:S}),e.next=4,D.a.get("/api/v1/courses");case 4:a=e.sent,r=a.data,t({type:N,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:_,payload:e.t0.response});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[r,u,a,i]);return Object(B.jsxs)(c.Fragment,{children:[Object(B.jsx)("h1",{className:"my-5",children:"ALL Courses"}),o?Object(B.jsx)(V,{}):Object(B.jsx)(K.c,{data:function(){var e={columns:[{label:"Company Name",field:"Company",sort:"asc"},{label:"Title",field:"Title",sort:"asc"},{label:"Instructor",field:"Instructor",sort:"asc"},{label:"Description",field:"Description",sort:"asc"},{label:"Price",field:"Price",sort:"asc"},{label:"More Details",field:"Action",sort:"asc"}],rows:[]};return n.forEach((function(t){e.rows.push({Company:t.companyname,Title:t.title,Instructor:t.instructor,Description:t.description,Price:t.price,Action:Object(B.jsx)(M.b,{to:"/course/".concat(t._id),className:"btn btn-primary",children:Object(B.jsx)("i",{className:"btn",children:"Details"})})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},Z=function(e){var t=e.match,a=Object(W.d)(),r=Object(l.b)(),s=Object(l.c)((function(e){return e.Details})).Coursedetails,n=t.params.id;Object(c.useEffect)((function(){var e;r((e=n,function(){var t=Object(j.a)(d.a.mark((function t(a){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:C}),t.next=4,D.a.get("/api/v1/course/".concat(e));case 4:r=t.sent,c=r.data,a({type:w,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:I,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[r,n]);return Object(B.jsxs)("div",{className:"col-12 col-md-5",children:[Object(B.jsx)("h1",{className:"head",children:" Course"}),Object(B.jsx)("img",{src:s.images?s.images[0].url:"",alt:s.title}),Object(B.jsx)("hr",{}),Object(B.jsx)("h3",{children:s.title}),Object(B.jsx)("hr",{}),Object(B.jsxs)("h4",{children:["Provided by ",s.companyname]}),Object(B.jsx)("hr",{}),Object(B.jsxs)("h6",{children:["Created by ",s.instructor]}),Object(B.jsx)("hr",{}),Object(B.jsxs)("h5",{children:["Price :- ",s.price," Only-"]}),Object(B.jsx)("hr",{}),Object(B.jsxs)("h5",{children:["Course Duration :- ",s.coursetiming]}),Object(B.jsx)("hr",{}),Object(B.jsx)("h3",{children:"DashBoard :- "})," ",Object(B.jsx)("h5",{children:s.description}),Object(B.jsx)("hr",{}),Object(B.jsx)("button",{className:"btn_purchase",onClick:function(){var e;r((e=n,function(){var t=Object(j.a)(d.a.mark((function t(a,r){var c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.get("/api/v1/course/".concat(e));case 2:c=t.sent,s=c.data,console.log(s),a({type:P,payload:{courseid:s._id,companyname:s.companyname,title:s.title,price:s.price,image:s.image,instructor:s.instructor,description:s.description,duration:s.coursetiming}}),localStorage.setItem("purchaseItems",JSON.stringify(r().purchase.purchaseItems));case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())),a.success("Course Purchased Successfully")},children:" Purchase Course"})]})},$=function(){var e=Object(l.c)((function(e){return e.purchase})).purchaseItems;return Object(B.jsxs)(c.Fragment,{children:[Object(B.jsx)("h1",{className:"my-5",children:"MY Courses"}),Object(B.jsx)(K.c,{data:function(){var t={columns:[{label:"Company Name",field:"Company",sort:"asc"},{label:"Title",field:"Title",sort:"asc"},{label:"Instructor",field:"Instructor",sort:"asc"},{label:"Description",field:"Description",sort:"asc"},{label:"Price",field:"Price",sort:"asc"}],rows:[]};return e.forEach((function(e){t.rows.push({Company:e.companyname,Title:e.title,Instructor:e.instructor,Description:e.description,Price:e.price})})),t}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},ee=a(134),te=function(){var e=Object(l.b)(),t=Object(W.d)(),a=Object(l.c)((function(e){return e.auth})),r=a.isAuthenicated,s=a.user,n=a.loading;return Object(B.jsx)(c.Fragment,{children:Object(B.jsx)(ee.a,{bg:"light",expand:"lg",className:"nvb",children:s?Object(B.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(B.jsx)(M.b,{className:"btn ml-4",to:"/MyCourses",children:"My Courses"}),Object(B.jsx)(M.b,{className:"btn ml-4",to:"/Profile",children:"Profile"}),Object(B.jsx)(M.b,{className:"btn ml-4 text-danger",to:"/",onClick:function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("/api/v1/user/logout");case 3:t({type:y}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:E,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),t.success("logout successfully")},children:"Logout"}),Object(B.jsx)(M.b,{className:"btn ml-4",to:"/UpdateProfile",children:"Edit"}),Object(B.jsx)(M.b,{className:"btn ml-8 row-3",to:"/Courses",children:"Courses"})]}):!n&&Object(B.jsxs)("div",{children:[r?Object(B.jsx)(Q.a,{to:"/Profile"}):Object(B.jsx)(Q.a,{to:"/Signup"}),Object(B.jsx)(M.b,{to:"/login",className:"btn ml-4",children:"Login"}),Object(B.jsx)(M.b,{to:"/Signup",className:"btn ml-4",children:"Signup"}),Object(B.jsx)(M.b,{className:"btn ml-8 row-3",to:"/Courses",children:"Courses"})]})})})};var ae=function(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(k())}),[e]),Object(B.jsxs)(M.a,{children:[Object(B.jsx)(te,{}),Object(B.jsx)(Q.b,{path:"/Signup",component:G,exact:!0}),Object(B.jsx)(Q.b,{path:"/login",component:z,exact:!0}),Object(B.jsx)(H,{path:"/Profile",component:J,exact:!0}),Object(B.jsx)(Q.b,{path:"/UpdateProfile",component:q,exact:!0}),Object(B.jsx)(Q.b,{path:"/Courses",component:X,exact:!0}),Object(B.jsx)(Q.b,{path:"/course/:id",component:Z,exact:!0}),Object(B.jsx)(Q.b,{path:"/MyCourses",component:$,exact:!0})]})},re=a(33),ce=a(71),se=a(72),ne=a(74),oe=Object(re.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case h:case x:return{loading:!0,isAuthenicated:!1};case p:case O:case v:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isAuthenicated:!0,user:t.payload});case y:return{loading:!1,isAuthenicated:!1,user:null};case g:return{loading:!1,isAuthenicated:!1,user:null,error:t.payload};case E:return Object(r.a)(Object(r.a)({},e),{},{error:t.payload});case m:case f:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isAuthenicated:!1,user:null,error:t.payload});case T:return Object(r.a)(Object(r.a)({},e),{},{error:t.payload});default:return e}},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{UpdateProfile:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(r.a)(Object(r.a)({},e),{},{loading:!0,isUpdated:!1});case A:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isUpdated:!0,user:t.payload});case L:return{loading:!1,isUpdated:!1,user:null,error:t.payload};case R:return Object(r.a)(Object(r.a)({},e),{},{isUpdated:!1});case T:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},allcourses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Courses:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case N:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,Courses:t.payload});case _:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:t.payload});default:return e}},Details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Coursedetails:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case w:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,Coursedetails:t.payload});case I:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:t.payload});default:return e}},purchase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{purchaseItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:var a=t.payload;console.log(a);var c=e.purchaseItems.find((function(e){return e.courseid===a.courseid}));return c?Object(r.a)(Object(r.a)({},e),{},{purchaseItems:e.purchaseItems.map((function(e){return e.courseid===c.courseid?a:e}))}):Object(r.a)(Object(r.a)({},e),{},{purchaseItems:[].concat(Object(ne.a)(e.purchaseItems),[a])});default:return e}}}),ie={purchase:{purchaseItems:localStorage.getItem("purchaseItems")?JSON.parse(localStorage.getItem("purchaseItems")):[]}},le=[ce.a],ue=Object(re.createStore)(oe,ie,Object(se.composeWithDevTools)(re.applyMiddleware.apply(void 0,le))),de=a(73),je={timeout:5e3,position:W.b.BOTTOM_CENTER,transitions:W.c.SCALE};n.a.render(Object(B.jsx)(l.a,{store:ue,children:Object(B.jsx)(W.a,Object(r.a)(Object(r.a)({template:de.a},je),{},{children:Object(B.jsx)(ae,{})}))}),document.getElementById("root"))},28:function(e,t,a){},80:function(e,t,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.cbb02314.chunk.js.map